/* eslint-disable @next/next/no-img-element */
import Head from 'next/head'
import Image from 'next/image'
import { useEffect, useRef, useState } from 'react'
import Timer from '../components/timer2';
import Nav from '../components/nav';
import { MongoClient } from 'mongodb';
import Modal from '../components/popup.jsx';

import styles from '../styles/Home.module.css'

export async function getStaticProps() {
    const client = await MongoClient.connect(process.env.MONGODB_URI);
    const db = client.db();

    const accountsCollection = db.collection('accounts');

    const accounts = await accountsCollection.countDocuments();
    client.close();

    return {
        props: {
            accounts: accounts,
        },
        revalidate: 1,
    };
}



export default function Home({ accounts }) {
    return (
        <div className={styles.container}>
            <Head>
                <meta charset="UTF-8" />
                <meta http-equiv="X-UA-Compatible" content="IE=edge" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                <title>Home | Mundialito</title>
                <meta name="description" content="Generated by Mundialito" />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <Nav />

            <section className={styles.cont}>
                <div className={styles.video}>
                    <video src="/img/qatar.mp4" loop autoPlay muted></video>
                </div>
                <Timer />
                <div className={styles.redirect}>
                    <h1>Mundialito</h1>
                    <a href="#info"><button className={styles.button}>Mas información</button></a>
                </div>
            </section>

            <section className={styles.informative} id="info">
                <div>
                    <h2>Informacion sobre la Pagina</h2>
                    <p>Esta pagina es proyecto de un arduo trabajo de dos compañeros y amigos, de la escuela tecnica n°5 de Mar del Plata, con el objetivo de informar sobre el mundial a las diversas personas, no se me ocurrio mas</p>
                </div>
                <div>
                    <p>world Cup</p>
                </div>
            </section>
            <Modal />
            <section className={styles.matches}>
                <div>
                <div className={styles.timeline}>
                    <div className={styles.timeline_calendar}>
                        <p>Domingo 20 de Noviembre</p>
                    </div>
                    <div className={styles.timeline_stadium}>
                        <p>Estadio Al Bayt - Jor</p>
                    </div>
                    <div className={styles.timeline_tv}>
                        <p>TV PUBLICA/DIRECTV</p>
                    </div>
                    <div className={styles.timeline_hour}>
                        <p>13:00</p>
                    </div>
                    <div className={styles.timeline_match}>
                        <img src="/img/selections/QAT.jpg" alt="" />
                        <p>Qatar</p>
                        <p> - </p>
                        <p>Ecuador</p>
                        <img src="/img/selections/ECU.jpg" alt="" />
                    </div>
                </div>
                </div>
                <div className={styles.timeline}>
                    <div className={styles.timeline_calendar}>
                        <p>Lunes 21 de Noviembre</p>
                    </div>
                    <div className={styles.timeline_stadium}>
                        <p>Estadio Khalifa - Doha</p>
                    </div>
                    <div className={styles.timeline_tv}>
                        <p>TYC SPORTS/DIRECTV</p>
                    </div>
                    <div className={styles.timeline_hour}>
                        <p>10:00</p>
                    </div>
                    <div className={styles.timeline_match}>
                        <img src="/img/selections/ENG.jpg" alt="" />
                        <p>England</p>
                        <p> - </p>
                        <p>IR Iran</p>
                        <img src="/img/selections/IRN.jpg" alt="" />
                    </div>
                    <div className={styles.timeline_stadium}>
                        <p>Stadio Al Thumama - Doha</p>
                    </div>
                    <div className={styles.timeline_tv}>
                        <p>TV PUBLICA/DIRECTV</p>
                    </div>
                    <div className={styles.timeline_hour}>
                        <p>13:00</p>
                    </div>
                    <div className={styles.timeline_match}>
                        <img src="/img/selections/SEN.jpg" alt="" />
                        <p>Senegal</p>
                        <p> - </p>
                        <p>Netherlands</p>
                        <img src="/img/selections/NED.jpg" alt="" />
                    </div>
                    <div className={styles.timeline_stadium}>
                        <p>Estadio Ahmad bin Ali - Rayan</p>
                    </div>
                    <div className={styles.timeline_tv}>
                        <p>TYC SPORTS/DIRECTV</p>
                    </div>
                    <div className={styles.timeline_hour}>
                        <p>13:00</p>
                    </div>
                    <div className={styles.timeline_match}>
                        <img src="/img/selections/USA.jpg" alt="" />
                        <p>Qatar</p>
                        <p> - </p>
                        <p>Ecuador</p>
                        <img src="/img/selections/WAL.jpg" alt="" />
                    </div>
                </div>
            </section>

            <section className={styles.people} id="people">
                <div>
                    <Image src="/img/rombo.jpg" alt="Rombo" width={16} height={16} />
                    <h2>Personas participando</h2>
                    <p>{accounts}</p>
                </div>
                <img src="/img/marado.jpg" alt="maradona" />
            </section>
        </div>
    )
}